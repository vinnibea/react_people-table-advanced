(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{155:function(e,t,n){"use strict";n.r(t);var c,r=n(18),a=n.n(r),s=n(9),o=(n(28),n(5)),i=n(0),l=(n(29),n(13)),j=n(4),b=function(){return Object(j.jsxs)("nav",{className:"App__nav",children:[Object(j.jsx)(s.c,{to:"/home",className:function(e){return e.isActive?"is-active":""},children:Object(j.jsx)(l.Button,{children:"Home"})}),Object(j.jsx)(s.c,{to:"/table",children:Object(j.jsx)(l.Button,{children:"People"})})]})},d=n(7),h=n(2),u=n.n(h),x=n(11),O=n(10);!function(e){e.sex="sex",e.name="name",e.born="born",e.died="died",e.default="default"}(c||(c={}));var m=function(){var e=Object(o.f)(),t=Object(o.g)(),n=new URLSearchParams(e.search),r=Object(i.useState)(null),a=Object(d.a)(r,2),b=a[0],h=a[1],m=Object(i.useState)(""),f=Object(d.a)(m,2),p=f[0],g=f[1],v=Object(i.useState)(c.default),N=Object(d.a)(v,2),y=N[0],C=N[1],k=Object(i.useState)(!0),w=Object(d.a)(k,2),B=w[0],S=w[1],_=Object(i.useMemo)((function(){var e=(null===b||void 0===b?void 0:b.filter((function(e){return function(e,t){var n=e.name,c=e.fatherName,r=e.motherName,a=[];return[n,c,r].forEach((function(e){"string"===typeof e&&a.push(e)})),a.some((function(e){return e.toLowerCase().includes(t.toLocaleLowerCase())}))}(e,n.get("query")||"")})))||[];return y!==c.default?function(e,t){switch(t){case c.name:return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case c.sex:return e.sort((function(e,t){return e.sex.localeCompare(t.sex)}));case c.born:return e.sort((function(e,t){return e.born-t.born}));case c.died:return e.sort((function(e,t){return e.died-t.died}));default:return e}}(e,n.get("sortBy")||y)||[]:e||[]}),[b,p,y,B]),F=function(e){y!==c.default?n.set("sortBy",String(e)):n.delete("sortBy"),t("?".concat(n.toString()))};return Object(i.useEffect)((function(){setTimeout((function(){return fetch("".concat("https://mate-academy.github.io/react_people-table/api/","/people.json")).then((function(e){return e.json()})).then((function(e){h(e)}))}),1e3)}),[]),B||_.reverse(),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"table-container",children:[Object(j.jsx)("input",{type:"text",className:"input is-medium",value:p,onChange:function(e){e.target.value.length?n.set("query",p):n.delete("query"),t("?".concat(n.toString())),g(e.target.value)},placeholder:"Enter person name"}),Object(j.jsxs)("table",{className:"table is-hoverable",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsxs)("th",{children:[Object(j.jsx)("abbr",{title:"name",children:"Name"}),Object(j.jsxs)("div",{className:"arrows",children:[Object(j.jsx)(x.a,{icon:O.b,onClick:function(){S(!0),F(c.name),C(c.name)}}),Object(j.jsx)(x.a,{icon:O.a,onClick:function(){S(!1),F(c.name),C(c.name)}})]})]}),Object(j.jsxs)("th",{children:[Object(j.jsx)("abbr",{title:"sex",children:"Sex"}),Object(j.jsxs)("div",{className:"arrows",children:[Object(j.jsx)(x.a,{icon:O.b,onClick:function(){S(!0),F(c.sex),C(c.sex)}}),Object(j.jsx)(x.a,{icon:O.a,onClick:function(){S(!1),F(c.sex),C(c.sex)}})]})]}),Object(j.jsxs)("th",{children:[Object(j.jsx)("abbr",{title:"born",children:"Born"}),Object(j.jsxs)("div",{className:"arrows",children:[Object(j.jsx)(x.a,{icon:O.b,onClick:function(){S(!0),F(c.born),C(c.born)}}),Object(j.jsx)(x.a,{icon:O.a,onClick:function(){S(!1),F(c.born),C(c.born)}})]})]}),Object(j.jsxs)("th",{children:[Object(j.jsx)("abbr",{title:"died",children:"Died"}),Object(j.jsxs)("div",{className:"arrows",children:[Object(j.jsx)(x.a,{icon:O.b,onClick:function(){S(!0),F(c.died),C(c.died)}}),Object(j.jsx)(x.a,{icon:O.a,onClick:function(){S(!B),F(c.died),C(c.died)}})]})]}),Object(j.jsx)("th",{children:Object(j.jsx)("abbr",{title:"Fathername",children:"Fathername"})}),Object(j.jsx)("th",{children:Object(j.jsx)("abbr",{title:"Mothername",children:"Mothername"})})]})}),_.length?Object(j.jsx)("tbody",{children:_.map((function(t){var r,a=u()({"is-selected":(r=t.name,e.pathname.replace(/[0-9]/gi,"").replace("/table/","").split("-").slice(0,-1).join(" ")===r.toLowerCase())}),o=_.find((function(e){return t.fatherName===e.name})),i=_.find((function(e){return t.motherName===e.name}));return Object(j.jsxs)("tr",{className:a,children:[Object(j.jsx)("th",{style:{backgroundColor:c.name===n.get("sortBy")?"lightblue":""},children:Object(j.jsx)(s.b,{to:{pathname:"".concat(t.slug),search:e.search},style:{color:"f"===t.sex?"rgb(255, 0, 0)":"rgb(0, 71, 171)"},children:t.name})}),Object(j.jsx)("th",{style:{backgroundColor:c.sex===n.get("sortBy")?"lightblue":""},children:t.sex}),Object(j.jsx)("th",{style:{backgroundColor:c.born===n.get("sortBy")?"lightblue":""},children:t.born}),Object(j.jsx)("th",{style:{backgroundColor:c.died===n.get("sortBy")?"lightblue":""},children:t.died}),Object(j.jsx)("th",{children:o?Object(j.jsx)(s.b,{to:{pathname:"".concat(o.slug),search:e.search},children:t.fatherName}):Object(j.jsx)(j.Fragment,{children:t.fatherName})}),Object(j.jsx)("th",{children:i?Object(j.jsx)(s.b,{to:{pathname:"".concat(i.slug),search:e.search},children:t.motherName}):Object(j.jsx)(j.Fragment,{children:t.motherName})})]},t.slug)}))}):Object(j.jsx)(l.Loader,{})]})]})})},f=function(){return Object(j.jsx)("div",{className:"App__not-found",children:Object(j.jsx)("p",{className:"App__not-text",children:"Page Not Found"})})},p=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b,{}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",element:Object(j.jsx)("h1",{children:"Home"})}),Object(j.jsx)(o.b,{path:"/home",element:Object(j.jsx)(o.a,{to:"/",replace:!0})}),Object(j.jsx)(o.b,{path:"/table",element:Object(j.jsx)(m,{}),children:Object(j.jsx)(o.b,{path:":slug",element:Object(j.jsx)(m,{})})}),Object(j.jsx)(o.b,{path:"*",element:Object(j.jsx)(f,{})})]})]})};a.a.render(Object(j.jsx)(s.a,{children:Object(j.jsx)(p,{})}),document.getElementById("root"))},28:function(e,t,n){}},[[155,1,2]]]);
//# sourceMappingURL=main.93d03cb6.chunk.js.map